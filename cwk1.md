<a name="br1"></a> 

COMP1721 Object-Oriented Programming

Coursework 1: Creating & Using Classes

1 Introduction

This assignment assesses your ability to implement classes and use them in a small program.

Consider the GPS data generated by a device such as a mobile phone. Your current location is represented

as a point, consisting of a timestamp, a longitude (in degrees), a latitude (in degrees) and an elevation above

sea level (in metres). Movement while GPS is enabled generates a track: a sequence of points representing

successive samples from the GPS sensor.

Your main task is to implement classes named Point and Track that can be used to represent points and

tracks, along with a small program that demonstrates the use of these classes. Figure [1](#br1)[ ](#br1)is a UML class

diagram showing the required features of, and relationship between, the two classes.

Figure 1: Classes used in Coursework 1

2 Preparation

2\.1 Files Needed

Download cwk1files.zip from Minerva and unzip it. The best way of doing this on a SoC Linux machine

is in a terminal window, via the command

unzip cwk1files.zip

This will give you a directory named cwk1, containing all of the ﬁles you need.

Remove the Zip archive, then study the ﬁles in cwk1. In particular, examine the ﬁle README.md, as this

provides guidance on how to run the tests on which your mark will be largely based.

Note: all code should be written in the .java ﬁles provided in the src/main/java subdirectory.

2\.2 Method Stubs

A suite of unit tests is provided with the ﬁles for this coursework. These tests are used to verify that the

methods of the two classes have been implemented correctly. You will be awarded one mark for each test

that passes. The starting point for the coursework is to make sure that the tests compile and run. This means

that it is necessary to begin by creating method stubs: dummy versions of each method that do just enough

that the tests will compile successfully.

Refer to Figure [1](#br1)[ ](#br1)for details of the stubs that are required, and note the following:

• All stubs should have the parameter lists and return types shown in the UML diagram

• Constructors should be implemented as empty methods (nothing inside the braces)

• Any method that returns a numeric value should just return a value of zero

• Any method that returns an object should just return the value null

1



<a name="br2"></a> 

Note also that the Point class references a class from the Java standard library named ZonedDateTime. This

is part of Java’s standard Date/Time API, deﬁned in the package java.time—see the [API](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html)[ ](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html)[documentation](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html)

for further details. To use it, you will need to add an import statement to the start of Point.java[:](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html)

import java.time.ZonedDateTime;

When you have created stubs for all the methods shown in Figure [1,](#br1)[ ](#br1)you can attempt to compile and run the

tests using Gradle. See README.md for full details of how Gradle [can](#br1)[ ](#br1)be used. We simply note here that you

can run the tests from a Linux or macOS command line with

./gradlew test

Omit the ./ from the start of this command if you are working from the Windows command prompt, or use

.\gradlew.bat to invoke Gradle if you are using Windows Powershell.

3 Basic Solution

This is worth 18 marks.

Please read all of the subsections below before starting work. We also recommend that you gain some

experience of implementing classes by doing the relevant formative exercises before you start.

3\.1 Point Class

To complete the implementation of the Point class, make the following changes to Point.java:

• Add a ﬁeld to represent the timestamp, of type ZonedDateTime (see below).

• Add ﬁelds to represent longitude, latitude and elevation, all of type double.

• Add code to the constructor that initialises the ﬁelds to the values supplied as method parameters,

with validation done for longitude and latitude (see below).

• Modify the ‘getter’ methods (getTime(), getLongitude(), etc) so that they return the relevant ﬁeld

values, instead of the defaults like 0 or null that were returned by the stubs.

• Change toString() so that it returns a string representation of a Point looking like this:

(-1.54853, 53.80462), 72.5 m

(The values here are longitude, then latitude, then elevation. The string should be formatted exactly

as shown here. Note the speciﬁc number of decimal places being used for each number!)

Make sure that it is not possible to create a Point object with an invalid latitude or longitude. Use the

constants provided in the class to help you with this, and throw an instance of the provided exception class,

GPSException, if inappropriate coordinates are supplied.

As you replace each method stub with its correct implementation, rerun the tests. You should see a growing

number of tests changing in status from FAILED to PASSED.

3\.2 Track Class

For the basic solution, make the following changes to Track.java:

• Add a ﬁeld suitable for storing a sequence of Point objects.

• Modify the constructor that take a string as its parameter, so that it initialises the ﬁeld used to store

the Point objects and then calls the readFile() method.

• Add to readFile() some code that will read data from the ﬁle with the given ﬁlename, create Point

objects from this data and then store those Point objects as a sequence (see below).

• Modify the size() method so that it returns the number of points currently stored in the track.

• Modift the get() method so that it returns the Point object stored at a given position in the sequence.

Position is speciﬁed as an int parameter and should be validated (see below).

• Modify the add() method so that it adds a new point, supplied as a method parameter, to the end of

the track.

2



<a name="br3"></a> 

The readFile() method will need to read CSV ﬁles, examples of which can be found in the data directory.

It should use a Scanner to do this. A good approach here would be to read the ﬁle line-by-line, split up the

line on commas, then parse each item separately. The lectures discuss how a ﬁle can be read in this manner.

You can use the static method parse() of the ZonedDateTime class to parse the timestamp.

readFile() should NOT catch any exceptions that might occur during reading of the ﬁle. It will need an

exception speciﬁcation, declaring that an IOException could happen if the named ﬁle cannot be accessed.

Your implementation should also explicitly throw a GPSException if any record within the ﬁle doesn’t

contain the exact number of values needed to create a Point object. Note that you do not need to include

GPSException as part of the method’s exception speciﬁcation, because this exception class is not one of

Java’s ‘checked exception’ types.

The get() method should use the int value passed to it as an index into the sequence of Point objects, but

before doing that the method should check this int value and throw an instance of GPSException if it is

not within the allowed range. Once again, note that there is no need to include an exception speciﬁcation

for this.

As you replace each method stub with its correct implementation, rerun the tests. You should see a growing

number of tests changing in status from FAILED to PASSED.

4 Full Solution

This is worth a further 12 marks. It involves completing the implementation of the Track class and then

writing a small program that uses the two classes.

4\.1 Track Class

If you’ve completed the basic solution, there should be four remaining method stubs in Track.java, which

should be modiﬁed as indicated below.

• Modify lowestPoint() and highestPoint() so that they return the Point objects having the lowest

and highest elevations, respectively.

• Modify totalDistance() so that it returns the total distance travelled in metres when moving from

point to point along the entire length of the track (see below).

• Modify averageSpeed() so that it returns the average speed along the track, in metres per second

(see below)

All four of these methods should throw a GPSException if the track doesn’t contain enough points to do the

necessary computation.

To implement totalDistance(), you will need to compute [‘great-circle](http://en.wikipedia.org/wiki/Great-circle_distance)[ ](http://en.wikipedia.org/wiki/Great-circle_distance)[distance’](http://en.wikipedia.org/wiki/Great-circle_distance)[ ](http://en.wikipedia.org/wiki/Great-circle_distance)between adjacent points

on the track. A method to do this already exists in the Point [class.](http://en.wikipedia.org/wiki/Great-circle_distance)[ ](http://en.wikipedia.org/wiki/Great-circle_distance)[Given](http://en.wikipedia.org/wiki/Great-circle_distance)[ ](http://en.wikipedia.org/wiki/Great-circle_distance)[two](http://en.wikipedia.org/wiki/Great-circle_distance)[ ](http://en.wikipedia.org/wiki/Great-circle_distance)Point objects, p and q, the

great-circle distance in metres between them (ignoring elevation) will be given by

double distance = Point.greatCircleDistance(p, q);

To implement averageSpeed() you will need to compute the amount of time that has passed between

measurements for the ﬁrst and last points on the track. You can use the ChronoUnit type for this: speciﬁcally,

the between() method, which can be called on the object ChronoUnit.SECONDS to yield the time interval

in seconds between two ZonedDateTime objects.

Note: the ChronoUnit class is part of Java’s standard Date/Time API. To use it, you will need to add an

import statement to Track.java:

import java.time.temporal.ChronoUnit;

As you replace each method stub with its correct implementation, rerun the tests. Your goal here is to end

up with all 26 tests passing. If you achieve this, you can be assured of getting at least 26 marks for the

coursework.

4\.2 TrackInfo Program

Edit the ﬁle TrackInfo.java. In this ﬁle, create a small program that creates a Track object from data in

a ﬁle whose name is provided as a command line argument. You program should display: the number of

points in the track; its lowest and highest points; the total distance travelled; and the average speed.

3



<a name="br4"></a> 

Requiring the ﬁlename as a command line argument means that it has to be supplied as part of the command

that runs the program; the program should not be prompting for input of the ﬁlename once it has started

running!

For example, if running the program directly within a terminal window, you would need to enter

java TrackInfo walk.csv

Note that you can run the program with a suitable command line argument via Gradle:

./gradlew run

This will run the program on the ﬁle data/walk.csv.

You can also check whether your program behaves correctly when no ﬁlename has been supplied on the

command line, by doing

./gradlew runNoFile

When your program is run on walk.csv, it should generate output very similar to this:

194 points in track

Lowest point is (-1.53637, 53.79680), 35.0 m

Highest point is (-1.54835, 53.80438), 73.6 m

Total distance = 1.904 km

Average speed = 1.441 m/s

Your output doesn’t need to be identical in layout, but it should provide all the data shown here, and numbers

should be formatted with the number of decimal places shown in this example.

If no ﬁlename is supplied on the command line, your program should print a helpful error message and then

use System.exit() to terminate, with a value of zero for exit status.

The program should intercept any exceptions that occur when reading from the ﬁle or performing computa-

tion. The program should print the error message associated with the exception and then use System.exit()

to terminate, with a non-zero value for exit status.

5 Advanced Tasks

For a few extra marks, implement ONE of two options suggested below.

These tasks are more challenging and will require additional reading/research. They are also worth

relatively few marks. Attempt them only if you manage to complete the previous work fairly quickly

and easily.

5\.1 Option 1: KML Files

This is worth an additional 2 marks.

1\. Add to the Track class a new method named writeKML. This should have a single String parameter,

representing a ﬁlename. It should write track data to the given ﬁle, using Google’s [Keyhole](https://developers.google.com/kml/documentation/kml_tut)[ ](https://developers.google.com/kml/documentation/kml_tut)[Markup](https://developers.google.com/kml/documentation/kml_tut)

[Language](https://developers.google.com/kml/documentation/kml_tut)[ ](https://developers.google.com/kml/documentation/kml_tut)format.

2\. Edit ConvertToKML.java and add to it a program that converts a CSV ﬁle of track data into a KML

ﬁle. The program should expect ﬁlenames for these two ﬁles as command line arguments, with the

CSV ﬁle as the ﬁrst argument and the KML ﬁle as the second argument. It should deal with missing

arguments and exceptions in the same way as TrackInfo.

3\. Generate a KML ﬁle for the track represented by walk.csv. You can do this with Gradle, using

./gradlew runKML

This will generate its output in a ﬁle walk.kml, in the build subdirectory.

Visualise the ﬁle by uploading it to Google Maps (see Figure [2)](#br6)[ ](#br6)or by importing it into Google Earth.

Grab a screenshot of the result and place it in the cwk1 [director](#br6)y so that it will be included in your

submission.

4



<a name="br5"></a> 

5\.2 Option 2: Elevation Plot

This is worth an additional 4 marks.

1\. Investigate JavaFX by reading David Eck’s online [Java](https://math.hws.edu/javanotes/)[ ](https://math.hws.edu/javanotes/)[Notes](https://math.hws.edu/javanotes/)[ ](https://math.hws.edu/javanotes/)and other online sources. In particular,

you will need to research how charts can be drawn [in](https://math.hws.edu/javanotes/)[ ](https://math.hws.edu/javanotes/)[JavaFX.](https://math.hws.edu/javanotes/)

2\. Edit build.gradle and uncomment the various commented-out parts relating to JavaFX.

3\. Edit the ﬁle PlotApplication.java and implement in this ﬁle a JavaFX application that plots

elevation as a function of distance along a track. As with TrackInfo, the ﬁle of track data should be

speciﬁed as a command line argument.

You can run your application on walk.csv via Gradle, with this command:

./gradlew runPlot

Figure [3](#br6)[ ](#br6)shows an example of what the plot could look like.

6 Submission

Use Gradle to generate a Zip archive containing all the ﬁles that need to be submitted:

./gradlew submission

This produces a ﬁle named cwk1.zip. Submit this ﬁle to Minerva, via link provided for this purpose. You

can ﬁnd this link in the ‘Assessment and Feedback’ section, under ‘Submit My Work’.

Note: be careful to submit the correct Zip archive here! Make sure you do not accidentally submit the Zip

archive of provided ﬁles . . .

The deadline for submissions is 10.00 on Thursday 9 March 2023. The standard university penalty of 5%

of available marks per day will apply to late work, unless an extension has been arranged due to genuine

extenuating circumstances.

Note that all submissions will be subject to automated plagiarism checking.

7 Marking

40 marks are available for this assignment.

A basic solution can earn up to 24 marks (60% of those available); a full solution can earn up to 36 marks

(90% of those available).

Mark allocation breaks down as follows:

18 Tests for basic solution

8

4

Tests for full solution

TrackInfo program

4

Advanced task

6

40

Sensible use of Java and coding style

5



<a name="br6"></a> 

Figure 2: A track rendered by Google Maps

Figure 3: Elevation plot produced using Java FX

6

